<app-modal [title]="(isEdit ? 'Edit' : 'New') + ' Board'">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <app-input-feedback
      feedback="Title is required"
      [isShown]="isFieldValid('title')"
    >
      <input
        class="input"
        placeholder="Title"
        name="title"
        formControlName="title"
      />
    </app-input-feedback>
    <p class="field-label">Icons</p>
    <ul class="icon-list">
      <li
        class="icon-list-item"
        [ngClass]="{ active: selectedIcon === icon }"
        (click)="onIconClick(icon)"
        *ngFor="let icon of iconsList; trackBy: trackByIcon"
      >
        <mat-icon [svgIcon]="icon"></mat-icon>
      </li>
    </ul>
    <ul class="background-list">
      <li
        class="background-item withIcon"
        [class.active]="selectedImage === 'default'"
        (click)="onImageClick('default')"
      >
        <mat-icon
          svgIcon="defaultBoardBg"
          class="default-board-bg-icon"
        ></mat-icon>
      </li>
      <li
        class="background-item"
        *ngFor="let boardImage of boardImages$ | async"
        [class.active]="selectedImage === boardImage.name"
        (click)="onImageClick(boardImage.name)"
        load="lazy"
      >
        <img [src]="boardImage.previewImage['baseUrl']" />
      </li>
    </ul>
    <button class="button withIcon" [@vibrateAnimation]="vibrateState">
      <app-square-button></app-square-button>{{ isEdit ? "Edit" : "Create" }}
    </button>
  </form>
</app-modal>
